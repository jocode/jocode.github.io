---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import About from '../components/About.astro';
import Projects from '../components/Projects.astro';
import Footer from '../components/Footer.astro';
import ProfilePhoto from '../components/ProfilePhoto.astro';
---

<Layout>
  <Header />
  <main>
	<ProfilePhoto />
    <About />
    <Projects />
  </main>
  <Footer />
</Layout>

<script>
  // Add any JavaScript functionality needed from the legacy site
  document.addEventListener('DOMContentLoaded', function() {
    // Handle contact form submission
    const formulario = document.getElementById('formulario') as HTMLFormElement | null;
    const result = document.getElementById('result');
    
    if (formulario && result) {
      formulario.addEventListener('submit', function(e) {
        e.preventDefault();
        result.innerHTML = '<div class="alert alert-success">Mensaje enviado correctamente</div>';
        formulario.reset();
      });
    }
    
    // Smooth scrolling for navigation links
    const links = document.querySelectorAll('.page-scroll');
    
    links.forEach(link => {
      link.addEventListener('click', function(this: HTMLAnchorElement, e) {
        const href = this.getAttribute('href');
        if (href && href.startsWith('#')) {
          e.preventDefault();
          const targetElement = document.querySelector(href);
          if (targetElement) {
            window.scrollTo({
              top: (targetElement as HTMLElement).offsetTop,
              behavior: 'smooth'
            });
          }
        }
      });
    });
  });
</script>
